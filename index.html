<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NITHEON - Offline AI</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;500;700;900&family=Vazirmatn:wght@300;500;700;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        :root {
            --bg-color: #050505;
            --text-primary: #ffffff;
            --text-secondary: #9ca3af;
            --accent-cyan: #22d3ee;
            --font-en: 'Unbounded', sans-serif;
            --font-fa: 'Vazirmatn', sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-primary);
            overflow-x: hidden;
            margin: 0;
            font-family: var(--font-en);
        }

        /* RTL Support */
        html[dir="rtl"] body {
            font-family: var(--font-fa);
        }

        /* Background Effects */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
        }

        .monoline-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(34, 211, 238, 0.03) 0%, transparent 50%),
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 100% 100%, 40px 40px, 40px 40px;
            mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
        }

        /* Typography & UI */
        .gradient-text {
            background: linear-gradient(180deg, #ffffff 0%, #a5a5a5 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cyan-text {
            color: var(--accent-cyan);
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .btn-glow:hover {
            box-shadow: 0 0 15px rgba(34, 211, 238, 0.4);
        }

        /* Modal Animation */
        .modal-enter {
            opacity: 0;
            transform: scale(0.95);
        }
        .modal-enter-active {
            opacity: 1;
            transform: scale(1);
            transition: opacity 300ms, transform 300ms;
        }
        .modal-exit {
            opacity: 1;
            transform: scale(1);
        }
        .modal-exit-active {
            opacity: 0;
            transform: scale(0.95);
            transition: opacity 200ms, transform 200ms;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #000; 
        }
        ::-webkit-scrollbar-thumb {
            background: #333; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555; 
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center relative selection:bg-cyan-500 selection:text-black">

    <!-- Background Layers -->
    <div class="monoline-bg"></div>
    <div id="canvas-container"></div>

    <!-- Main Content -->
    <main class="w-full max-w-md mx-auto px-6 py-12 flex flex-col items-center text-center z-10 relative">
        
        <!-- Header -->
        <header class="w-full flex justify-between items-center mb-12">
            <button id="lang-toggle" class="glass-panel px-4 py-2 rounded-full text-xs font-bold tracking-wider hover:bg-white/10 transition-colors">
                EN / FA
            </button>
            <div class="font-bold tracking-[0.2em] text-sm text-cyan-400">NITHEON</div>
        </header>

        <!-- Hero Section -->
        <div class="mb-16 space-y-4">
            <h1 class="text-5xl font-black tracking-tight gradient-text leading-tight">NITHEON</h1>
            <p id="hero-desc" class="text-gray-400 text-sm leading-relaxed max-w-xs mx-auto font-light">
                A new world of offline AI. Running 100% locally on your own hardware.
            </p>
        </div>

        <!-- Download Options -->
        <div class="w-full space-y-8">
            
            <!-- Raven -->
            <div class="group relative">
                <div class="flex justify-between items-end mb-2 px-2">
                    <h2 class="text-2xl font-bold text-white">RAVEN</h2>
                    <span id="raven-desc" class="text-xs text-gray-500 text-right max-w-[150px]">Optimized for every device</span>
                </div>
                <button onclick="downloadRaven()" class="w-full text-left group-hover:text-cyan-400 transition-colors duration-300">
                    <span id="raven-btn" class="text-sm font-bold tracking-wide border-b border-transparent group-hover:border-cyan-400 pb-1 inline-block">
                        CLICK TO DOWNLOAD
                    </span>
                </button>
            </div>

            <!-- Crow -->
            <div class="group relative">
                <div class="flex justify-between items-end mb-2 px-2">
                    <h2 class="text-2xl font-bold text-white">CROW</h2>
                    <span id="crow-desc" class="text-xs text-gray-500 text-right max-w-[150px]">Maximum intelligence for flagships</span>
                </div>
                <button onclick="checkHardware()" class="w-full text-left group-hover:text-cyan-400 transition-colors duration-300">
                    <span id="crow-btn" class="text-sm font-bold tracking-wide border-b border-transparent group-hover:border-cyan-400 pb-1 inline-block">
                        CLICK TO DOWNLOAD
                    </span>
                </button>
            </div>

        </div>
    </main>

    <!-- Hardware Check Modal -->
    <div id="hardware-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm hidden opacity-0 transition-opacity duration-300">
        <div class="bg-[#0a0a0a] border border-white/10 rounded-2xl p-8 max-w-sm w-full mx-4 shadow-2xl transform transition-all scale-95" id="modal-content">
            
            <h3 id="modal-title" class="text-xl font-bold text-white mb-4 text-center">Hardware Check</h3>
            
            <p id="modal-text" class="text-gray-400 text-sm leading-relaxed mb-8 text-center font-light">
                Crow requires Snapdragon 8 Elite or higher, or Apple A19 Pro or higher, with 12GB+ RAM.
            </p>

            <div class="flex flex-col gap-3">
                <button onclick="confirmDownload()" class="w-full bg-white text-black font-bold py-3 rounded-full hover:bg-gray-200 transition-colors btn-glow">
                    <span id="modal-confirm">I HAVE THE HARDWARE</span>
                </button>
                <button onclick="closeModal()" class="w-full text-gray-500 text-xs font-medium py-2 hover:text-white transition-colors">
                    <span id="modal-cancel">CANCEL</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- Data & Translations ---
        const content = {
            en: {
                heroDesc: "A new world of offline AI. Running 100% locally on your own hardware.",
                ravenDesc: "Optimized for every device",
                ravenBtn: "CLICK TO DOWNLOAD",
                crowDesc: "Maximum intelligence for flagships",
                crowBtn: "CLICK TO DOWNLOAD",
                modalTitle: "Hardware Check",
                modalText: "Crow requires Snapdragon 8 Elite or higher, or Apple A19 Pro or higher, with 12GB+ RAM.",
                modalConfirm: "I HAVE THE HARDWARE",
                modalCancel: "CANCEL"
            },
            fa: {
                heroDesc: "دنیای جدیدی از هوش مصنوعی آفلاین. بدون نیاز به اینترنت، مستقیماً روی سخت افزار شما.",
                ravenDesc: "نسخه سبک برای تمام گوشی‌ها",
                ravenBtn: "برای دانلود کلیک کنید",
                crowDesc: "نسخه پیشرفته برای پرچمداران",
                crowBtn: "برای دانلود کلیک کنید",
                modalTitle: "بررسی سخت‌افزار",
                modalText: "مدل Crow به Snapdragon 8 Elite یا بالاتر، یا Apple A19 Pro و بالاتر به همراه حداقل ۱۲ گیگابایت رم نیاز دارد.",
                modalConfirm: "سخت‌افزار لازم را دارم",
                modalCancel: "انصراف"
            }
        };

        const links = {
            raven: "https://www.mediafire.com/file/myy1wwytlihn1wb/Nitheon_Raven.zip/file",
            crow: "https://www.mediafire.com/file/qwdoltt7r0eydc1/Nitheon_Crow.zip/file"
        };

        let currentLang = 'en';

        // --- DOM Elements ---
        const langToggle = document.getElementById('lang-toggle');
        const modal = document.getElementById('hardware-modal');
        const modalContent = document.getElementById('modal-content');
        
        // Text Elements
        const els = {
            heroDesc: document.getElementById('hero-desc'),
            ravenDesc: document.getElementById('raven-desc'),
            ravenBtn: document.getElementById('raven-btn'),
            crowDesc: document.getElementById('crow-desc'),
            crowBtn: document.getElementById('crow-btn'),
            modalTitle: document.getElementById('modal-title'),
            modalText: document.getElementById('modal-text'),
            modalConfirm: document.getElementById('modal-confirm'),
            modalCancel: document.getElementById('modal-cancel')
        };

        // --- Functions ---

        function updateLanguage() {
            const data = content[currentLang];
            const isRTL = currentLang === 'fa';

            // Update Direction
            document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
            document.documentElement.lang = currentLang;

            // Update Text with Fade Effect
            const elements = [
                els.heroDesc, els.ravenDesc, els.ravenBtn, 
                els.crowDesc, els.crowBtn, els.modalTitle, 
                els.modalText, els.modalConfirm, els.modalCancel
            ];

            elements.forEach(el => {
                el.style.opacity = '0';
                setTimeout(() => {
                    // Map keys dynamically based on element ID suffix or specific mapping if needed
                    // Simple mapping based on variable names above
                    if(el === els.heroDesc) el.textContent = data.heroDesc;
                    if(el === els.ravenDesc) el.textContent = data.ravenDesc;
                    if(el === els.ravenBtn) el.textContent = data.ravenBtn;
                    if(el === els.crowDesc) el.textContent = data.crowDesc;
                    if(el === els.crowBtn) el.textContent = data.crowBtn;
                    if(el === els.modalTitle) el.textContent = data.modalTitle;
                    if(el === els.modalText) el.textContent = data.modalText;
                    if(el === els.modalConfirm) el.textContent = data.modalConfirm;
                    if(el === els.modalCancel) el.textContent = data.modalCancel;
                    
                    el.style.opacity = '1';
                }, 200);
            });
        }

        langToggle.addEventListener('click', () => {
            currentLang = currentLang === 'en' ? 'fa' : 'en';
            updateLanguage();
        });

        function downloadRaven() {
            window.open(links.raven, '_blank');
        }

        function checkHardware() {
            modal.classList.remove('hidden');
            // Small delay to allow display:block to apply before opacity transition
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95');
                modalContent.classList.add('scale-100');
            }, 10);
        }

        function closeModal() {
            modal.classList.add('opacity-0');
            modalContent.classList.remove('scale-100');
            modalContent.classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function confirmDownload() {
            closeModal();
            setTimeout(() => {
                window.open(links.crow, '_blank');
            }, 300);
        }

        // Close modal on outside click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // --- Three.js Background Animation ---
        function initThreeJS() {
            const container = document.getElementById('canvas-container');
            const scene = new THREE.Scene();
            
            // Camera setup
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 2.5;

            // Renderer setup
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            container.appendChild(renderer.domElement);

            // Create Wireframe Cube
            const geometry = new THREE.BoxGeometry(1.2, 1.2, 1.2);
            const edges = new THREE.EdgesGeometry(geometry);
            const material = new THREE.LineBasicMaterial({ 
                color: 0x333333, 
                transparent: true, 
                opacity: 0.4 
            });
            const cube = new THREE.LineSegments(edges, material);
            scene.add(cube);

            // Add a secondary inner cube for complexity
            const innerGeo = new THREE.BoxGeometry(0.8, 0.8, 0.8);
            const innerEdges = new THREE.EdgesGeometry(innerGeo);
            const innerMat = new THREE.LineBasicMaterial({ 
                color: 0x22d3ee, // Cyan accent
                transparent: true, 
                opacity: 0.15 
            });
            const innerCube = new THREE.LineSegments(innerEdges, innerMat);
            scene.add(innerCube);

            // Animation Loop
            function animate() {
                requestAnimationFrame(animate);

                // Rotate cubes
                cube.rotation.x += 0.002;
                cube.rotation.y += 0.003;
                
                innerCube.rotation.x -= 0.003;
                innerCube.rotation.y -= 0.002;

                // Gentle floating motion
                const time = Date.now() * 0.0005;
                cube.position.y = Math.sin(time) * 0.1;
                innerCube.position.y = Math.sin(time + 1) * 0.1;

                renderer.render(scene, camera);
            }

            animate();

            // Handle Resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        // Initialize
        initThreeJS();
        updateLanguage(); // Set initial text

    </script>
</body>
</html>

